########################### User data ###########################

## System:  	PMQ
## User:    	SFTP_ARIBA_PROD
## Pass:    	BsMKy8H@@cO4
## Home:    	/usr/sap/interfaces/SFTP_DIR/SFTP_ARIBA_PROD

################################################################

################### Before CAMP user created ###################

mkdir -p /usr/sap/interfaces/SFTP_DIR/SFTP_ARIBA_PROD
chmod -R 770 /usr/sap/interfaces/SFTP_DIR/SFTP_ARIBA_PROD

#################### After CAMP user created ####################

chown -R SFTP_ARIBA_PROD:sapsys /usr/sap/interfaces/SFTP_DIR/SFTP_ARIBA_PROD

#################### Public key installition ####################

mkdir -p /usr/sap/interfaces/sshkeys/SFTP_ARIBA_PROD/.ssh/
chmod -R 700 /usr/sap/interfaces/sshkeys/SFTP_ARIBA_PROD
chown -R SFTP_ARIBA_PROD:sapsys /usr/sap/interfaces/sshkeys/SFTP_ARIBA_PROD
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMDrBQtChpZcofwyLsqC0qsxe00QfL+pDVmLthyX7Dudb58iK5Y75e2I/K2p72xsQioznRLxYuRIE1gZdWlrvg141g3RjNcOaLDGzhyk2KfZYtnetcYsryP8ozGPjCUUvRr7Qovjhevh1HxgUicMDPRBpSjAkN107xUklGyTiDHLoOLg471QPFVvAEcIZsr3YSFEreMUfEIdsU56caHo/Btv51+J4KTDtqd0bJcXM0AtZR3tsdVYH8lH8mBdI8rJueT7xon+bEp4HbNZQhL0IcyE4ciUx/Gezz8NSGEqpBgbIgGisOp/IXP7zALf6BfMPe/mg/oUHhRgNfwpjDEnx8Ic3UtjXvMyu5XrzripZl9AIHgK3l8aEU+RIzTEipfYe40IzwtRpPr8nvV4Dl3BkNjF6KkbXriPPmbw5xCEkdl+BlBWbK64Hg9qguhOWz/T4hY18YkEMgnpe0IEef39O5Shkb/IcgoEqn8gBmmgmPF4hoJK5OdhZzPYCk9NrZTtQs88EoU/bmMwDqVEHSDhccqhBQxTrAgX9c2hOe4uyUFo/rnmNzZ5ujiGFWHvNsLaIAFuenX+/5pqJDrNOy7fSjQclf7OC/VhtMEIWEPM28tyngcbjjpCO4jzBP26sBRt+J7uQbY2dLf1/KczsSXLlev7LC0FsPr/xNhkD2YfklXQ==" >> /usr/sap/interfaces/sshkeys/SFTP_ARIBA_PROD/.ssh/authorized_keys
chmod 644 /usr/sap/interfaces/sshkeys/SFTP_ARIBA_PROD/.ssh/authorized_keys
chown SFTP_ARIBA_PROD:sapsys /usr/sap/interfaces/sshkeys/SFTP_ARIBA_PROD/.ssh/authorized_keys

###################### Check user creation ######################

printf '\n' && getent passwd | grep SFTP_ARIBA_PROD && ll /usr/sap/interfaces/SFTP_DIR/ | grep SFTP_ARIBA_PROD && ll /usr/sap/interfaces/sshkeys/SFTP_ARIBA_PROD/.ssh/authorized_keys | grep SFTP_ARIBA_PROD && grep  "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMDrBQtChpZcofwyLsqC0qsxe00QfL+pDVmLthyX7Dudb58iK5Y75e2I/K2p72" /usr/sap/interfaces/sshkeys/SFTP_ARIBA_PROD/.ssh/authorized_keys && printf '\n'

