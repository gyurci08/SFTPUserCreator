########################### User data ###########################

## System:  	AS
## User:    	{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}
## Pass:    	3jRecZ&dTnlH
## Home:    	/usr/sap/interfaces/SFTP_DIR/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}

################################################################

################### Before CAMP user created ###################

mkdir -p /usr/sap/interfaces/SFTP_DIR/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}
chmod -R 770 /usr/sap/interfaces/SFTP_DIR/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}

#################### After CAMP user created ####################

chown -R {sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}:sapsys /usr/sap/interfaces/SFTP_DIR/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}

#################### Public key installition ####################

mkdir -p /usr/sap/interfaces/sshkeys/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}/.ssh/
chmod -R 700 /usr/sap/interfaces/sshkeys/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}
chown -R {sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}:sapsys /usr/sap/interfaces/sshkeys/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}
echo "1" | tee /usr/sap/interfaces/sshkeys/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}/.ssh/authorized_keys
chmod 644 /usr/sap/interfaces/sshkeys/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}/.ssh/authorized_keys
chown {sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}:sapsys /usr/sap/interfaces/sshkeys/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}/.ssh/authorized_keys

###################### Check user creation ######################

printf '\n' && getent passwd | grep {sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l} && ll /usr/sap/interfaces/SFTP_DIR/ | grep {sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l} && ll /usr/sap/interfaces/sshkeys/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}/.ssh/authorized_keys | grep {sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l} && grep  "1" /usr/sap/interfaces/sshkeys/{sanyi,pistaddddddddddddddddddddddddddddddddddddddddddddd,l,l,l}/.ssh/authorized_keys && printf '\n'

